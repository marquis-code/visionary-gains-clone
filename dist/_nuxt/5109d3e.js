(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{594:function(e,t,r){var map={"./account_balance.svg":357,"./accounts.svg":358,"./actions.svg":350,"./airplane.svg":344,"./appointments.svg":359,"./comments.svg":360,"./communities.svg":361,"./customers.svg":362,"./dash-analytics.svg":116,"./dash-help.svg":146,"./dash-home.svg":141,"./dash-orders.svg":142,"./dash-products.svg":144,"./dash-settings.svg":145,"./dash-wallet.svg":143,"./dashboard.svg":363,"./eclipse.svg":364,"./expenses.svg":365,"./eye-close.svg":366,"./eye-open.svg":367,"./funds.svg":368,"./home copy.svg":369,"./home.svg":370,"./lending.svg":371,"./logo.svg":372,"./logout.svg":345,"./medical-timeline.svg":373,"./more.svg":351,"./notifications.svg":374,"./order-history.svg":375,"./profit_balance.svg":376,"./records.svg":377,"./save.svg":378,"./services.svg":379,"./settings.svg":380,"./testimonial-avatar.svg":185,"./users.svg":381,"./wallet.svg":382};function o(e){var t=n(e);return r(t)}function n(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}o.keys=function(){return Object.keys(map)},o.resolve=n,e.exports=o,o.id=594},692:function(e,t,r){"use strict";r.r(t);r(27),r(33);var o=r(48),n=(r(94),r(13),r(8),{layout:"authLayout",data:function(){return{processing:!1,showPassword:!1,form:{email:"",password:""}}},computed:{isFormEmpty:function(){return!(!this.form.email||!this.form.password)},eye:function(){return this.showPassword?"eye-open.svg":"eye-close.svg"}},mounted:function(){if(window.process){var e,t=window.localStorage.getItem("user"),r=JSON.parse(t);null!==(e=Object.keys(r))&&void 0!==e&&e.length&&this.$router.push("/dashboard")}},methods:{login:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,data,n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.processing=!0,r='\n          mutation {\n            userLogin(email: "'.concat(e.form.email,'", password: "').concat(e.form.password,'") {\n                  jwt\n                  user {\n                    id\n                    firstName\n                    lastName\n                    email\n                    Status\n                    PlanType\n                    accountBalance\n                    tradingBalance\n                    profit\n                    eth\n                    btc\n                    timeAdded\n                  }\n             }\n        }\n        '),t.prev=2,t.next=5,fetch("https://lucent-kq5b.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:r,variables:{email:e.form.email,password:e.form.password}})});case 5:return o=t.sent,t.next=8,o.json();case 8:null!=(data=t.sent)&&data.errors?e.$toastr.e(data.errors[0].message):(window.localStorage.setItem("auth",JSON.stringify(null==data||null===(n=data.data)||void 0===n||null===(n=n.userLogin)||void 0===n?void 0:n.jwt)),window.localStorage.setItem("user",JSON.stringify(null==data||null===(l=data.data)||void 0===l||null===(l=l.userLogin)||void 0===l?void 0:l.user)),e.$toastr.s("Login was successful"),e.$router.push("/dashboard"));case 10:return t.prev=10,e.processing=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[2,,10,13]])})))()}}}),l=r(38),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-[#4169E1] h-screen"},[t("section",{staticClass:"bg-[#4169E1] flex justify-center items-center pt-20 container mx-auto"},[t("div",{staticClass:"w-full max-w-md p-8 space-y-3 rounded-xl bg-white"},[t("h1",{staticClass:"text-2xl font-bold text-center"},[e._v("Login")]),e._v(" "),t("form",{staticClass:"space-y-10",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("div",{staticClass:"space-y-1 text-sm w-full"},[t("label",{staticClass:"block text-gray-900 font-medium",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"email",type:"email",name:"email",placeholder:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"space-y-1 text-sm w-full relative"},[t("label",{staticClass:"block text-gray-900 font-medium",attrs:{for:"password"}},[e._v("Password")]),e._v(" "),"checkbox"==(e.showPassword?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"password",name:"password",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(e.form.password)?e._i(e.form.password,null)>-1:e.form.password},on:{change:function(t){var r=e.form.password,o=t.target,n=!!o.checked;if(Array.isArray(r)){var l=e._i(r,null);o.checked?l<0&&e.$set(e.form,"password",r.concat([null])):l>-1&&e.$set(e.form,"password",r.slice(0,l).concat(r.slice(l+1)))}else e.$set(e.form,"password",n)}}}):"radio"==(e.showPassword?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"password",name:"password",placeholder:"Password",type:"radio"},domProps:{checked:e._q(e.form.password,null)},on:{change:function(t){return e.$set(e.form,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"password",name:"password",placeholder:"Password",type:e.showPassword?"text":"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),t("img",{staticClass:"absolute cursor-pointer top-9 right-4 h-6 w-6",attrs:{src:r(594)("./".concat(e.eye)),alt:""},on:{click:function(t){e.showPassword=!e.showPassword}}})]),e._v(" "),t("div",{staticClass:"w-full"},[t("button",{staticClass:"w-full shrink-0 text-xs disabled:cursor-not-allowed disabled:opacity-25 rounded-md border border-green-500 bg-green-600 px-12 py-3 font-medium text-white transition",class:[!e.isFormEmpty||e.processing?"opacity-25 cursor-not-allowed":""],attrs:{disabled:!e.isFormEmpty}},[e._v("\n            "+e._s(e.processing?"processing...":"Sign In")+"\n          ")])])]),e._v(" "),t("p",{staticClass:"text-sm text-center sm:px-6 text-gray-900"},[e._v("\n        Don't have an account?\n        "),t("nuxt-link",{staticClass:"underline text-gray-900",attrs:{to:"/signup",rel:"noopener noreferrer",href:"#"}},[e._v("\n          Sign up\n        ")])],1),e._v(" "),t("p",{staticClass:"text-sm text-center sm:px-6 text-gray-900"},[e._v("\n        Forgot password?\n        "),t("nuxt-link",{staticClass:"underline text-gray-900",attrs:{to:"/forgot",rel:"noopener noreferrer",href:"#"}},[e._v("\n          change password\n        ")])],1)])])])}),[],!1,null,null,null);t.default=component.exports}}]);