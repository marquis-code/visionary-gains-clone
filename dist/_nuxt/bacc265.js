(window.webpackJsonp=window.webpackJsonp||[]).push([[53,8],{542:function(t,e,n){"use strict";n.r(e);var r={},o=n(46),component=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{},[t("div",{staticClass:"rounded overflow-hidden shadow-lg animate-pulse"},[t("div",{staticClass:"bg-gray-300 h-72"})])])}],!1,null,null,null);e.default=component.exports},687:function(t,e,n){"use strict";n.r(e);n(30),n(10),n(8);var r=n(49),o=(n(93),n(13),{components:{ApiLoader:n(542).default},layout:"user-dashboard",data:function(){return{depositType:"",imagePreview:null,loadingAdminInfo:!1,processing:!1,loading:!1,adminData:{},form:{amount:"",transactionType:"",proof:"",wallet:"",withdrawalType:""}}},computed:{computedWalletAddress:function(){return"bitcoin"===this.form.withdrawalType?this.computed_wallet_info[0].code:"ethereum"===this.form.withdrawalType?this.computed_wallet_info[1].code:"bank"===this.form.withdrawalType?this.computed_wallet_info[2].code:""},isFormEnabled:function(){return!(!this.form.amount||!this.form.withdrawalType)},computed_wallet_info:function(){var t,e,n,r;return Object.keys(this.adminData).length?[{name:"Bitcoin",code:null!==(t=null===(e=this.adminData)||void 0===e||null===(e=e.admin)||void 0===e?void 0:e.btc)&&void 0!==t?t:"N/A"},{name:"Ethereum erc-20",code:null!==(n=null===(r=this.adminData)||void 0===r||null===(r=r.admin)||void 0===r?void 0:r.eth)&&void 0!==n?n:"N/A"},{name:"Bank Account",code:"00907654378889"}]:[{name:"Bitcoin",code:""},{name:"Ethereum erc-20",code:""},{name:"Bank Account",code:""}]}},mounted:function(){this.getAdminInfo()},methods:{copy:function(t){var e=this;window.navigator.clipboard.writeText(t).then((function(){return e.$toastr.s("Copied to clipboard")}))},handleWithdrawal:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.processing=!0,n=JSON.parse(window.localStorage.getItem("auth")),e.prev=2,"\n          mutation newTransaction($input: NewTransaction!) {\n            newTransaction(input: $input)\n          }\n        ",e.next=6,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n          mutation newTransaction($input: NewTransaction!) {\n            newTransaction(input: $input)\n          }\n        ",variables:{input:{amount:t.form.amount,transactionType:"Withdrawal",proof:"",wallet:t.form.wallet}}})});case 6:return r=e.sent,e.next=9,r.json();case 9:null!=(data=e.sent)&&data.errors?t.$toastr.e(data.errors[0].message):(t.$toastr.s("You have successfully initiated a withdrawal"),t.this.form.amount="",t.form.wallet="",t.form.transactionType="");case 11:return e.prev=11,t.processing=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,,11,14]])})))()},getAdminInfo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingAdminInfo=!0,n=JSON.parse(window.localStorage.getItem("auth")),"\n        query {\n          getUser {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      ",e.prev=3,e.next=6,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer "+n},body:JSON.stringify({query:"\n        query {\n          getUser {\n            id\n            firstName\n            lastName\n            email\n            Status\n            PlanType\n            accountBalance\n            tradingBalance\n            profit\n            eth\n            btc\n            timeAdded\n          }\n        }\n      "})});case 6:return r=e.sent,e.next=9,r.json();case 9:null!=(data=e.sent)&&data.errors?t.$toastr.e(data.errors[0].message):t.adminData=data.data.getUser;case 11:return e.prev=11,t.loadingAdminInfo=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,,11,14]])})))()}}}),l=n(46),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"lg:flex justify-start items-start gap-x-10 space-y-10 lg:space-y-0"},[e("section",{staticClass:"bg-white lg:w-5/12 rounded-md border"},[e("p",{staticClass:"border-b text-sm font-semibold py-4 pl-6"},[t._v("\n      Enter amount and upload proof of payment\n    ")]),t._v(" "),e("form",{staticClass:"p-6 space-y-6",on:{submit:function(e){return e.preventDefault(),t.handleWithdrawal.apply(null,arguments)}}},[e("div",{staticClass:"space-y-1"},[e("label",{staticClass:"text-xs text-gray-700 font-medium"},[t._v("Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.amount,expression:"form.amount"}],staticClass:"py-3 border border-gray-600 text-sm rounded-md w-full outline-none pl-6",attrs:{placeholder:"Enter amount in USD",type:"number"},domProps:{value:t.form.amount},on:{input:function(e){e.target.composing||t.$set(t.form,"amount",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"space-y-4"},[e("label",{staticClass:"text-xs text-gray-700 font-medium"},[t._v("Withdrawal Type")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.withdrawalType,expression:"form.withdrawalType"}],staticClass:"py-3 border border-gray-600 text-sm rounded-md w-full outline-none pl-6",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"withdrawalType",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("\n            ---- Select withdrawal type -----\n          ")]),t._v(" "),e("option",{attrs:{value:"bitcoin"}},[t._v("\n            Bitcoin\n          ")]),t._v(" "),e("option",{attrs:{value:"ethereum"}},[t._v("\n            Etheruem\n          ")]),t._v(" "),e("option",{attrs:{value:"bank"}},[t._v("\n            Bank Account\n          ")])]),t._v(" "),e("div",{staticClass:"space-y-1"},[e("label",{staticClass:"text-xs text-gray-700 font-medium"},[t._v("Wallet address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.wallet,expression:"form.wallet"}],staticClass:"py-3 bg-gray-50 border border-gray-600 text-sm rounded-md w-full outline-none pl-6",domProps:{value:t.form.wallet},on:{input:function(e){e.target.composing||t.$set(t.form,"wallet",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"w-full pt-6"},[e("button",{staticClass:"w-full text-white disabled:cursor-not-allowed disabled:opacity-25 bg-black py-3 px-3 rounded-md",attrs:{disabled:!t.isFormEnabled||t.processing}},[t._v("\n            "+t._s(t.processing?"processing..":"Submit")+"\n          ")])])])])])])}),[],!1,null,null,null);e.default=component.exports}}]);