(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{574:function(e,r,t){var map={"./account_balance.svg":346,"./accounts.svg":347,"./actions.svg":338,"./airplane.svg":339,"./appointments.svg":348,"./comments.svg":349,"./communities.svg":350,"./customers.svg":351,"./dashboard.svg":352,"./eclipse.svg":353,"./expenses.svg":354,"./eye-close.svg":355,"./eye-open.svg":356,"./funds.svg":357,"./home copy.svg":358,"./home.svg":359,"./lending.svg":360,"./logo.svg":361,"./logout.svg":334,"./medical-timeline.svg":362,"./more.svg":340,"./notifications.svg":363,"./order-history.svg":364,"./profit_balance.svg":365,"./records.svg":366,"./save.svg":367,"./services.svg":368,"./settings.svg":369,"./users.svg":370,"./wallet.svg":371};function o(e){var r=n(e);return t(r)}function n(e){if(!t.o(map,e)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return map[e]}o.keys=function(){return Object.keys(map)},o.resolve=n,e.exports=o,o.id=574},672:function(e,r,t){"use strict";t.r(r);t(27),t(32);var o=t(48),n=(t(93),t(13),t(8),{layout:"authLayout",data:function(){return{processing:!1,showPassword:!1,form:{email:"",password:""}}},computed:{isFormEmpty:function(){return!(!this.form.email||!this.form.password)},eye:function(){return this.showPassword?"eye-open.svg":"eye-close.svg"}},mounted:function(){if(window.process){var e,r=window.localStorage.getItem("user"),t=JSON.parse(r);null!==(e=Object.keys(t))&&void 0!==e&&e.length&&this.$router.push("/dashboard")}},methods:{login:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o,data,n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.processing=!0,t='\n          mutation {\n            userLogin(email: "'.concat(e.form.email,'", password: "').concat(e.form.password,'") {\n                  jwt\n                  user {\n                    id\n                    firstName\n                    lastName\n                    email\n                    Status\n                    PlanType\n                    accountBalance\n                    tradingBalance\n                    profit\n                    eth\n                    btc\n                    timeAdded\n                  }\n             }\n        }\n        '),r.prev=2,r.next=5,fetch("https://visionary-zpui.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:t,variables:{email:e.form.email,password:e.form.password}})});case 5:return o=r.sent,r.next=8,o.json();case 8:null!=(data=r.sent)&&data.errors?e.$toastr.e(data.errors[0].message):(window.localStorage.setItem("auth",JSON.stringify(null==data||null===(n=data.data)||void 0===n||null===(n=n.userLogin)||void 0===n?void 0:n.jwt)),window.localStorage.setItem("user",JSON.stringify(null==data||null===(l=data.data)||void 0===l||null===(l=l.userLogin)||void 0===l?void 0:l.user)),e.$toastr.s("Login was successful"),e.$router.push("/dashboard"));case 10:return r.prev=10,e.processing=!1,r.finish(10);case 13:case"end":return r.stop()}}),r,null,[[2,,10,13]])})))()}}}),l=t(46),component=Object(l.a)(n,(function(){var e=this,r=e._self._c;return r("div",{staticClass:"bg-[#303435] h-screen"},[r("section",{staticClass:"bg-[#303435] flex justify-center items-center pt-20 container mx-auto"},[r("div",{staticClass:"w-full max-w-md p-8 space-y-3 rounded-xl bg-white"},[r("h1",{staticClass:"text-2xl font-bold text-center"},[e._v("\n        Login\n      ")]),e._v(" "),r("form",{staticClass:"space-y-10",on:{submit:function(r){return r.preventDefault(),e.login.apply(null,arguments)}}},[r("div",{staticClass:"space-y-1 text-sm w-full"},[r("label",{staticClass:"block text-gray-900 font-medium",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"email",type:"email",name:"email",placeholder:"email"},domProps:{value:e.form.email},on:{input:function(r){r.target.composing||e.$set(e.form,"email",r.target.value)}}})]),e._v(" "),r("div",{staticClass:"space-y-1 text-sm w-full relative"},[r("label",{staticClass:"block text-gray-900 font-medium",attrs:{for:"password"}},[e._v("Password")]),e._v(" "),"checkbox"==(e.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"password",name:"password",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(e.form.password)?e._i(e.form.password,null)>-1:e.form.password},on:{change:function(r){var t=e.form.password,o=r.target,n=!!o.checked;if(Array.isArray(t)){var l=e._i(t,null);o.checked?l<0&&e.$set(e.form,"password",t.concat([null])):l>-1&&e.$set(e.form,"password",t.slice(0,l).concat(t.slice(l+1)))}else e.$set(e.form,"password",n)}}}):"radio"==(e.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"password",name:"password",placeholder:"Password",type:"radio"},domProps:{checked:e._q(e.form.password,null)},on:{change:function(r){return e.$set(e.form,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900",attrs:{id:"password",name:"password",placeholder:"Password",type:e.showPassword?"text":"password"},domProps:{value:e.form.password},on:{input:function(r){r.target.composing||e.$set(e.form,"password",r.target.value)}}}),e._v(" "),r("img",{staticClass:"absolute cursor-pointer top-9 right-4 h-6 w-6",attrs:{src:t(574)("./".concat(e.eye)),alt:""},on:{click:function(r){e.showPassword=!e.showPassword}}})]),e._v(" "),r("div",{staticClass:"w-full"},[r("button",{staticClass:"w-full shrink-0 text-xs disabled:cursor-not-allowed disabled:opacity-25 rounded-md border border-green-500 bg-green-600 px-12 py-3 font-medium text-white transition",class:[!e.isFormEmpty||e.processing?"opacity-25 cursor-not-allowed":""],attrs:{disabled:!e.isFormEmpty}},[e._v("\n            "+e._s(e.processing?"processing...":"Sign In")+"\n          ")])])]),e._v(" "),r("p",{staticClass:"text-sm text-center sm:px-6 text-gray-900"},[e._v("\n        Don't have an account?\n        "),r("nuxt-link",{staticClass:"underline text-gray-900",attrs:{to:"/signup",rel:"noopener noreferrer",href:"#"}},[e._v("\n          Sign up\n        ")])],1),e._v(" "),r("p",{staticClass:"text-sm text-center sm:px-6 text-gray-900"},[e._v("\n        Forgot password?\n        "),r("nuxt-link",{staticClass:"underline text-gray-900",attrs:{to:"/forgot",rel:"noopener noreferrer",href:"#"}},[e._v("\n          change password\n        ")])],1)])])])}),[],!1,null,null,null);r.default=component.exports}}]);